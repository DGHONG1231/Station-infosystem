<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>혹 정보 시스템</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>혹 정보 시스템</h1>

    <!-- 1. 역 필터 및 선택 -->
    <section class="box">
      <h2>혹 필터 및 선택</h2>
      <label for="stationInput">역 이름 입력: </label>
      <input type="text" id="stationInput" placeholder="예: 인천역" />
      <button onclick="addStation()">추가</button>
      <ul id="stationList"></ul>
    </section>

    <!-- 2. 역 특이사항 및 정보 -->
    <section class="box">
      <h2>혹 특이사항 및 정보</h2>
      <textarea id="stationNotesInput" placeholder="예: 육상 위치\n누수 있음 등"></textarea>
      <button onclick="addStationNote()">추가</button>
      <ul id="stationNotes"></ul>
    </section>

    <!-- 3. 역 배치도 -->
    <section class="box">
      <h2>혹 배치도 (특이사항 파악, 누수위치 등)</h2>
      <input type="file" id="mapUpload" accept="image/*" onchange="previewImage(event)" />
      <img id="mapImage" src="" alt="혹 배치도 이미지" style="max-width: 100%; margin-top: 10px; display: none;" />
    </section>

    <!-- 4. 최근 작업 내용 -->
    <section class="box">
      <h2>최근 작업 내용 (중복작업 방지용, 공구구매내역 등)</h2>
      <table>
        <thead>
          <tr>
            <th>작업일자</th>
            <th>작업내용</th>
            <th>작업자</th>
            <th>상태</th>
            <th>우선순위</th>
          </tr>
        </thead>
        <tbody id="workTable">
          <tr>
            <td>2025. 7. 1.</td>
            <td>소화전 점검</td>
            <td>오오오</td>
            <td><span class="badge yellow">진행중</span></td>
            <td><span class="badge red">긴급</span></td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- 5. 작업 등록 폼 -->
    <section class="box">
      <h2>작업 등록</h2>
      <input type="text" id="workDate" placeholder="작업일자" />
      <input type="text" id="workContent" placeholder="작업내용" />
      <input type="text" id="worker" placeholder="작업자" />
      <select id="status">
        <option>진행중</option>
        <option>완료</option>
      </select>
      <select id="priority">
        <option>긴급</option>
        <option>보통</option>
        <option>낮음</option>
      </select>
      <button onclick="addWork()">추가</button>
    </section>
  </div>

  <script>
    function addStation() {
      const input = document.getElementById('stationInput');
      const list = document.getElementById('stationList');
      if (input.value.trim()) {
        const li = document.createElement('li');
        li.textContent = input.value;
        list.appendChild(li);
        input.value = '';
      }
    }

    function addStationNote() {
      const input = document.getElementById('stationNotesInput');
      const list = document.getElementById('stationNotes');
      if (input.value.trim()) {
        const li = document.createElement('li');
        li.textContent = input.value;
        list.appendChild(li);
        input.value = '';
      }
    }

    function previewImage(event) {
      const image = document.getElementById('mapImage');
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = () => {
          image.src = reader.result;
          image.style.display = 'block';
        };
        reader.readAsDataURL(file);
      }
    }

    function addWork() {
      const date = document.getElementById('workDate').value;
      const content = document.getElementById('workContent').value;
      const worker = document.getElementById('worker').value;
      const status = document.getElementById('status').value;
      const priority = document.getElementById('priority').value;
      const table = document.getElementById('workTable');

      const row = table.insertRow();
      row.innerHTML = `
        <td>${date}</td>
        <td>${content}</td>
        <td>${worker}</td>
        <td><span class="badge yellow">${status}</span></td>
        <td><span class="badge red">${priority}</span></td>
      `;
    }
  </script>
</body>
</html>
